---
import { Image } from "astro:assets";

const props = Astro.props;

const lang = props.lang;
const title = props.title;
const date = props.date;
const excerpt = props.excerpt;
const tags = props.tags || [];
const link = props.link;
const image = props.image;

let tagsHtml = "";
for (let i = 0; i < tags.length; i++) {
    tagsHtml += `<li>#${tags[i]}</li>`;
}
---

<article class="writing-item" data-lang={lang}>
    {
        image && (
            <Image
                src={image}
                alt={title}
                class="writing-image"
                width={800}
                height={450}
                widths={[256, 512, 768, 1024]}
                sizes="(min-width: 1024px) 512px, (min-width: 768px) 50vw, 90vw"
                format="avif"
            />
        )
    }
    <h3>{title}</h3>
    <p class="date">{date}</p>
    <p class="excerpt">{excerpt}</p>

    <ul class="tags" set:html={tagsHtml} />

    <a href={link}>{lang === "nl" ? "Lees meer →" : "Read more →"}</a>
</article>
