---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import ProjectDetails from "../../components/ProjectDetails.astro";

export async function getStaticPaths() {
    const projects = await getCollection("projects");

    const paths = projects.map(function (entry) {
        return {
            params: { slug: entry.slug },
            props: { project: entry.data },
        };
    });

    return paths;
}

const project = Astro.props.project;
---

<BaseLayout title={project.title} description={project.description}>
    <ProjectDetails project={project} />
</BaseLayout>
