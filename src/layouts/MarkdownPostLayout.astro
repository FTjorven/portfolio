---
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";

const { frontmatter } = Astro.props;
const pubDate = frontmatter.pubDate
    ? new Date(frontmatter.pubDate).toISOString().slice(0, 10)
    : "";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>{frontmatter.title ?? "Post"}</title>
        <meta name="description" content={frontmatter.description ?? ""} />
    </head>
    <body>
        <Navigation />

        <main>
            <h1>{frontmatter.title}</h1>
            {pubDate && <p>{pubDate}</p>}
            {
                frontmatter.description && (
                    <p>
                        <em>{frontmatter.description}</em>
                    </p>
                )
            }
            {frontmatter.author && <p>Written by: {frontmatter.author}</p>}
            {
                frontmatter.image?.url && (
                    <img
                        src={frontmatter.image.url}
                        width="300"
                        alt={frontmatter.image.alt || ""}
                    />
                )
            }
            {
                frontmatter.tags?.length && (
                    <p>Tags: {frontmatter.tags.join(", ")}</p>
                )
            }

            <slot />
        </main>

        <Footer />
    </body>
</html>
